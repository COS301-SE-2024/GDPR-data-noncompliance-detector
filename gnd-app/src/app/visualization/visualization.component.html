<!-- <link rel="stylesheet" href="visualization.component.css">

<div class="header-container">
  <header class="header">
    Visualization
  </header>
</div>

<button (click)="onBack()" id="vizButton" type="button"
  class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700">
  Back
</button>

<div class="grid-container">
  <div id="violations" class="grid-item canvas-wrapper">
    <header class="header1">Violations per Category</header>
    <canvas id="circularBarChart"></canvas>
  </div>

  <div id="risk-score" class="grid-item canvas-wrapper">
    <header class="header1">Risk Score</header>
    <canvas #radarChartCanvas width="300" height="300"></canvas>
  </div>

  <div id="articles" class="grid-item canvas-wrapper">
    <header class="header1">Articles Violated</header>
    <canvas #progressCanvas width="200" height="200"></canvas>
    <div class="text-box">
    <p>{{rag_stat}}</p>
    <p><strong>GDPR Articles Related to Categories</strong></p>

    <p><strong>General Personal Data</strong></p>
    <p><strong>Article 5:</strong> Principles relating to processing of personal data</p>
    <p><strong>Article 6:</strong> Lawfulness of processing</p>
    <p><strong>Article 7:</strong> Conditions for consent</p>
    <p><strong>Article 9:</strong> Processing of special categories of personal data</p>
    <p><strong>Article 12:</strong> Transparent information, communication and modalities for the exercise of the
      rights of the data subject</p>

    <p><strong>Genetic Data, Political Opinions, Biometric Data, Data Revealing Racial and Ethnic Origin, Data
        Relating to Health</strong></p>
    <p><strong>Article 9(1):</strong> Processing of special categories of personal data including genetic data</p>
    <p><strong>Article 9(2)(b):</strong> Specific conditions under which genetic data can be processed</p>
    <p><strong>Article 9(2)(g):</strong> Processing of genetic data for the purpose of scientific or historical
      research, or statistical purposes</p>
    </div>
  </div>

  <div id="location" class="grid-item canvas-wrapper">
    <header class="header1">Location</header>
    <div id="map"></div>
  </div>
</div> -->

<!-- <div> -->
<!-- <h2>Visualization</h2> -->
<!-- <div *ngIf="data"> -->
<!-- Display the data or plot here -->
<!-- <pre>{{ data | json }}</pre> -->
<!-- </div> -->
<!-- </div> -->
<!-- <div class="visualization-container">
    <h2>Visualization</h2>
    <canvas id="progressCanvas" width="400" height="400"></canvas>
  </div> -->


<!-- src/app/visualization/visualization.component.html -->
<div class="visualization-container flex flex-col items-center">
  <ng-container *ngIf="scanData; else noData">
    <!-- Radial Bar Chart -->
    <div id="radial-chart" class="w-full max-w-md">
      <apx-chart
        [series]="chartOptions.series"
        [chart]="chartOptions.chart"
        [plotOptions]="chartOptions.plotOptions"
        [fill]="chartOptions.fill"
        [stroke]="chartOptions.stroke"
        [dataLabels]="chartOptions.dataLabels"
        [labels]="chartOptions.labels"
      ></apx-chart>
    </div>
    <div class="explanatory-card mt-4 p-4 bg-black-100 rounded-lg shadow-md w-full max-w-md">
      <h3 class="text-lg font-bold mb-2 text-black-500">Compliance Score Breakdown</h3>
      <p class="text-black-500">This circular bar graph represents the distribution of GDPR compliance issues across different data types in your uploaded document. Each segment indicates the percentage of issues found in that category.</p>
    </div>
    <!-- Optional: Add a legend below the chart -->
    <div class="legend-container mt-4">
      <ul class="flex flex-wrap justify-center">
        <li class="flex items-center mr-4">
          <span class="w-3 h-3 bg-[#20E647] inline-block mr-1"></span> Personal Data
        </li>
        <li class="flex items-center mr-4">
          <span class="w-3 h-3 bg-[#FF4560] inline-block mr-1"></span> Medical
        </li>
        <li class="flex items-center mr-4">
          <span class="w-3 h-3 bg-[#FEB019] inline-block mr-1"></span> Ethnic
        </li>
        <li class="flex items-center mr-4">
          <span class="w-3 h-3 bg-[#775DD0] inline-block mr-1"></span> Biometric
        </li>
        <li class="flex items-center">
          <span class="w-3 h-3 bg-[#00E396] inline-block mr-1"></span> Genetic
        </li>
      </ul>
    </div>
  </ng-container>
  <ng-template #noData>
    <p class="text-black-500">No scan data available. Please upload a file to see visualizations.</p>
  </ng-template>
</div>

